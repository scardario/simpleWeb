{% extends "manager/layout.html" %}
	{% block titulo %}
		login manager 2
	{% endblock %}
{% block cuerpo %}
	<div id="app" >acá va el app</div>
	<script type="text/babel">
		class App extends React.Component {
			constructor(props){
				super(props)
				this.state={
					texto: 'algo pasó por aquí',
					usuarios: {}
				}
				this.obtenerDatos()
			}

			datosObtenidos(datos){
				console.log('datos obtenidos:',datos)
			}

			obtenerDatos(){
				let datos = {}
				fetch('usuarios')
				.then(response => response.json())
				.then(data => {
					console.log('obteniendo datos:', data)
					datos = data
					this.datosObtenidos(datos)
				})
			}

			render(){
				console.log('renderizando...')
				// this.setState({
				// 	usuarios: data.usuarios
				// })
				// console.log(this.state.usuarios)
				return <div>texto de prueba: {this.state.usuarios['oscar']}</div>
			}
		}

		ReactDOM.render(<App />, document.querySelector("#app"))
	</script>

{% endblock %}